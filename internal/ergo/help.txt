{{BOLD}}ergo{{RESET}} â€” fast, concurrency-safe task orchestration for agents. humans welcome.

{{HEADER}}USAGE{{RESET}}
  ergo <command> [args] [global flags]   (Global flags can appear anywhere.)

{{HEADER}}COMMANDS{{RESET}}
  init [dir]                              create .ergo/ in dir (default: current dir)

  new epic                                create epic from JSON stdin (prints ID)
  new task                                create task from JSON stdin (prints ID)
  set <id>                                update task/epic from JSON stdin
  show <id>                               show epic or task details

  list [--epic <id>] [--ready|--blocked] [--epics] [--all]
                                          list active tasks (todo/doing/blocked/error)
                                          --all shows everything (including done/canceled)
                                          --epics shows only epics

  claim [<id>] --agent <identity>         claim oldest ready task, or claim task by id.
                                          Sets state to "doing". --agent required.

  dep <A> <B>                             add dependency: A depends on B (B blocks A)
  dep rm <A> <B>                          remove dependency

  where                                   print active .ergo directory path
  compact                                 rewrite log to current state (drops history)
  quickstart                              complete reference manual

{{HEADER}}GLOBAL FLAGS{{RESET}}
  --dir <path>                            discovery start dir (or explicit .ergo dir)
  --agent <identity>                      claim identity (req. for claim/implicit set)
  --json                                  JSON output (default: text)
  -h, --help                              show help
  -V, --version                           print version

{{HEADER}}JSON INPUT FIELDS (all strings){{RESET}}
    title           required for new, optional for set
    body            optional details (omit if empty)
    epic            epic ID or "" to unassign
    worker          (tasks only) any|agent|human
    state           (tasks only) todo|doing|done|blocked|canceled|error
                    doing/error require claim; todo/done/canceled clear claim
    claim           (tasks only) agent ID or "" to unclaim
                    claim implies state=doing (unless state provided)
                    state=doing/error on unclaimed requires --agent unless claim is set
    result_path     file path (requires result_summary)
    result_summary  one-liner (requires result_path)

{{HEADER}}FOR AGENTS{{RESET}}
  {{BOLD}}ALWAYS use '--json' arg to read structured output.
  {{BOLD}}ALWAYS pass --agent when claiming (suggested identity format: model@host, e.g. haiku-4-5@macbook)
  {{BOLD}}ALWAYS use printf for multiline input (not heredocs, which break in some terms).
  Before using ergo, first run `ergo quickstart` for complete reference and workflow.