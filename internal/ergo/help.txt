{{BOLD}}ergo{{RESET}} â€” fast, concurrency-safe task orchestration for agents. humans welcome.

{{HEADER}}USAGE{{RESET}}
  ergo <command> [args] [global flags]   (Global flags can appear anywhere.)

{{HEADER}}COMMANDS{{RESET}}
  init [dir]                              create .ergo/ in dir (default: .)

  new epic                                create epic from JSON stdin (prints ID)
  new task                                create task from JSON stdin (prints ID)
  set <id>                                update task/epic from JSON stdin
  show <id>                               show epic or task details

  list [--epic <id>] [--ready|--blocked] [--epics] [--all]
                                          list active (non-terminal) tasks
                                          --all includes done and canceled
                                          --epics shows only epics

  claim [<id>] --agent <identity>         claim oldest ready task, or by ID
                                          sets to "doing"; --agent required

  dep <A> <B>                             A depends on B (B blocks A)
  dep rm <A> <B>                          remove dependency

  where                                   print active .ergo directory path
  compact                                 collapse log to current state
  quickstart                              complete reference manual

{{HEADER}}GLOBAL FLAGS{{RESET}}
  --dir <path>                            discovery start (or .ergo path)
  --agent <identity>                      identity for claim and implicit set
  --json                                  JSON output (required for agents)
  -h, --help                              show help
  -V, --version                           print version

{{HEADER}}JSON INPUT FIELDS (all strings){{RESET}}
  Unknown keys are rejected.
  title           required for new, optional for set
  body            optional details (omit if empty)
  epic            epic ID or "" to unassign
  state           (tasks only) todo|doing|done|blocked|canceled|error
                  doing/error require claim; todo/done/canceled clear claim
  claim           (tasks only) agent ID or "" to unclaim
                  claim implies state=doing (unless state provided)
                  state=doing/error on unclaimed needs --agent or claim
  result_path     file path (requires result_summary)
  result_summary  one-liner (requires result_path)

{{HEADER}}FOR AGENTS{{RESET}}
  ALWAYS use --json for structured output.
  ALWAYS pass --agent when claiming (e.g. haiku@agent-host).
  ALWAYS end with a terminal state (done/blocked/error/canceled) and result.
  ALWAYS use printf for multiline input (heredocs break in some terminals).
  Before starting, run 'ergo quickstart' for the complete reference.
